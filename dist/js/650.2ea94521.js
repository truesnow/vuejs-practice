"use strict";(self["webpackChunkvuejs_practice"]=self["webpackChunkvuejs_practice"]||[]).push([[650],{7650:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",[e("Message",{attrs:{show:t.msgShow,type:t.msgType,msg:t.msg},on:{"update:show":function(e){t.msgShow=e}}}),e("div",{staticClass:"col-md-9 topics-index main-col"},[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[e("ul",{staticClass:"list-inline topic-filter"},t._l(t.filters,(function(s){return e("li",[e("router-link",{directives:[{name:"title",rawName:"v-title",value:s.title,expression:"item.title"}],class:{active:t.filter===s.filter},attrs:{to:`/topics?filter=${s.filter}`}},[t._v(t._s(s.name))])],1)})),0),e("div",{staticClass:"clearfix"})]),e("div",{staticClass:"panel-body remove-padding-horizontal"},[e("ul",{staticClass:"list-group row topic-list"},t._l(t.articles,(function(s){return e("li",{key:s.articleId,staticClass:"list-group-item"},[e("router-link",{staticClass:"reply_count_area hidden-xs pull-right",attrs:{to:`/articles/${s.articleId}/content`,tag:"div"}},[e("div",{staticClass:"count_set"},[e("span",{staticClass:"count_of_votes",attrs:{title:"投票数"}},[t._v(t._s(s.likeUsers?s.likeUsers.length:0))]),e("span",{staticClass:"count_seperator"},[t._v("/")]),e("span",{staticClass:"count_of_replies",attrs:{title:"回复数"}},[t._v(t._s(s.comments?s.comments.length:0))]),e("span",{staticClass:"count_seperator"},[t._v("|")]),e("abbr",{staticClass:"timeago"},[t._v(t._s(t._f("moment")(s.date,"from")))])])]),e("router-link",{staticClass:"avatar pull-left",attrs:{to:`/${s.uname}`,tag:"div"}},[e("img",{staticClass:"media-object img-thumbnail avatar avatar-middle",attrs:{src:s.uavatar}})]),e("router-link",{staticClass:"infos",attrs:{to:`/articles/${s.articleId}/content`,tag:"div"}},[e("div",{staticClass:"media-heading"},[t._v(" "+t._s(s.title)+" ")])])],1)})),0)])])])],1)},i=[],l=s(629),r={name:"Home",data(){return{msg:"",msgType:"",msgShow:!1,articles:[],filter:"default",filters:[{filter:"default",name:"活跃",title:"最后回复排序"},{filter:"excellent",name:"精华",title:"只看加精的话题"},{filter:"vote",name:"投票",title:"点赞数排序"},{filter:"recent",name:"最近",title:"发布时间排序"},{filter:"noreply",name:"零回复",title:"无人问津的话题"}]}},beforeRouteEnter(t,e,s){const a=e.name,i=t.params.logout;s((e=>{if(e.$store.state.auth)switch(a){case"Register":e.showMsg("注册成功");break;case"Login":e.showMsg("登录成功");break}else i&&e.showMsg("操作成功");e.setDataByFilter(t.query.filter)}))},computed:{...(0,l.rn)(["auth","user"])},watch:{auth(t){t||this.showMsg("操作成功")},$route(t){this.setDataByFilter(t.query.filter)}},methods:{showMsg(t,e="success"){this.msg=t,this.msgType=e,this.msgShow=!0},setDataByFilter(t="default"){this.filter=t,this.articles=this.$store.getters.getArticlesByFilter(t)}}},n=r,c=s(1001),o=(0,c.Z)(n,a,i,!1,null,"0eb59c5c",null),u=o.exports}}]);
//# sourceMappingURL=650.2ea94521.js.map